Object subclass: #Jugador	instanceVariableNames: 'nombre nivel visibles ocultos'	classVariableNames: ''	poolDictionaries: ''	category: 'Munchkin_Cthulhu'!!Jugador methodsFor: 'public' stamp: 'GMM 12/6/2011 16:49'!modificarNivel: incDec	nivel := nivel + incDec.		nivel <= 0 ifTrue: [nivel := 1].	! !!Jugador methodsFor: 'public' stamp: 'GMM 12/6/2011 16:51'!nivelDeCombate	|nivelDeCombate|		nivelDeCombate := nivel.! !!Jugador methodsFor: 'public' stamp: 'GMM 12/6/2011 18:07'!obtenerNivel	^ nivel.! !!Jugador methodsFor: 'public' stamp: 'GMM 12/6/2011 18:07'!obtenerNombre	^ nombre.! !!Jugador methodsFor: 'modificadores' stamp: 'GMM 12/6/2011 16:28'!setNivel	nivel := 1.! !!Jugador methodsFor: 'modificadores' stamp: 'GMM 12/6/2011 16:29'!setNombre: unNombre	nombre := unNombre.! !!Jugador methodsFor: 'modificadores' stamp: 'GMM 12/6/2011 16:26'!setOcultos	ocultos := OrderedCollection new.! !!Jugador methodsFor: 'modificadores' stamp: 'GMM 12/6/2011 16:27'!setVisibles	visibles := OrderedCollection new.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Jugador class	instanceVariableNames: ''!!Jugador class methodsFor: 'instance creation' stamp: 'GMM 12/6/2011 16:59'!nuevo: unNombre	^(self new) setNombre: unNombre;				setNivel;				setVisibles;				setOcultos.! !Object subclass: #Monstruo	instanceVariableNames: 'nombre malRollo nivel nivelesPerdidos gananciaTesoros gananciaNiveles'	classVariableNames: ''	poolDictionaries: ''	category: 'Munchkin_Cthulhu'!!Monstruo methodsFor: 'consultores' stamp: 'GMM 12/6/2011 17:05'!obtenerGananciaNiveles	^ gananciaNiveles.! !!Monstruo methodsFor: 'consultores' stamp: 'GMM 12/6/2011 17:05'!obtenerGananciaTesoros	^ gananciaTesoros.! !!Monstruo methodsFor: 'consultores' stamp: 'GMM 12/6/2011 17:06'!obtenerMalRollo	^ malRollo.! !!Monstruo methodsFor: 'consultores' stamp: 'GMM 12/6/2011 17:05'!obtenerNivel	^ nivel.! !!Monstruo methodsFor: 'consultores' stamp: 'GMM 12/6/2011 17:05'!obtenerNivelesPerdidos	^ nivelesPerdidos.! !!Monstruo methodsFor: 'consultores' stamp: 'GMM 12/6/2011 17:04'!obtenerNombre	^ nombre.! !!Monstruo methodsFor: 'modificadores' stamp: 'GMM 12/6/2011 17:06'!setGananciaNiveles: ng	gananciaNiveles := ng.! !!Monstruo methodsFor: 'modificadores' stamp: 'GMM 12/6/2011 17:07'!setGananciaTesoros: tg	gananciaTesoros := tg.! !!Monstruo methodsFor: 'modificadores' stamp: 'GMM 12/6/2011 17:07'!setMalRollo: mr	malRollo := mr.! !!Monstruo methodsFor: 'modificadores' stamp: 'GMM 12/6/2011 17:07'!setNivel: niv	nivel := niv.! !!Monstruo methodsFor: 'modificadores' stamp: 'GMM 12/6/2011 17:07'!setNivelesPerdidos: np	nivelesPerdidos := np.! !!Monstruo methodsFor: 'modificadores' stamp: 'GMM 12/6/2011 17:07'!setNombre: nom	nombre := nom.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Monstruo class	instanceVariableNames: ''!!Monstruo class methodsFor: 'instance creation' stamp: 'GMM 12/6/2011 17:11'!nuevo: nom nivel: niv gananciaTesoros: tg gananciaNiveles: ng nivelesPerdidos: np malRollo: mr	^(self new) setNombre: nom;				setNivel: niv;				setGananciaTesoros: tg;				setGananciaNiveles: ng;				setNivelesPerdidos: np;				setMalRollo: mr.! !Object subclass: #Munchkin	instanceVariableNames: 'jugadorActivo jugadores mazoTesoros descarteDeTesoros monstruoEnJuego mazoMonstruos descarteDeMonstruos'	classVariableNames: ''	poolDictionaries: ''	category: 'Munchkin_Cthulhu'!!Munchkin methodsFor: 'private' stamp: 'GMM 12/6/2011 18:00'!inicializarJuego		mazoTesoros := LinkedList new.	mazoMonstruos := LinkedList new.		mazoTesoros add: (Tesoro nuevo: '¡Sí, Aaaaamo!!' tipo: Tesoro CASCO bonus: 4 piezasOro: 0).	mazoTesoros add: (Tesoro nuevo: 'Ametralladora Thompson' tipo: Tesoro DOSMANOS bonus: 4 piezasOro: 600).	mazoTesoros add: (Tesoro nuevo: 'Botas de lluvia ácida' tipo: Tesoro CALZADO bonus: 1 piezasOro: 300).	mazoTesoros add: (Tesoro nuevo: 'Botas de sutil investigación' tipo: Tesoro CALZADO bonus: 3 piezasOro: 600).	mazoTesoros add: (Tesoro nuevo: 'Camiseta de la Universidad de Miskatonic' tipo: Tesoro ARMADURA bonus: 1 piezasOro: 100).	mazoTesoros add: (Tesoro nuevo: 'Capucha de Cthulhu' tipo: Tesoro CASCO bonus: 3 piezasOro: 500).	mazoTesoros add: (Tesoro nuevo: 'Casco minero' tipo: Tesoro CASCO bonus: 2 piezasOro: 400).	mazoTesoros add: (Tesoro nuevo: 'Clavo de rail ferro viario' tipo: Tesoro UNAMANO bonus: 3 piezasOro: 400).	mazoTesoros add: (Tesoro nuevo: 'El aparato de protección eléctrica del Profesor Tesla' tipo: Tesoro ARMADURA bonus: 4 piezasOro: 900).	mazoTesoros add: (Tesoro nuevo: 'El cuchillo de sushi arcano' tipo: Tesoro UNAMANO bonus: 2 piezasOro: 300).	mazoTesoros add: (Tesoro nuevo: 'Fez alópodo' tipo: Tesoro CASCO bonus: 3 piezasOro: 700).	mazoTesoros add: (Tesoro nuevo: 'Gaita' tipo: Tesoro DOSMANOS bonus: 4 piezasOro: 500).	mazoTesoros add: (Tesoro nuevo: 'Garabato místico' tipo: Tesoro UNAMANO bonus: 2 piezasOro: 300).	mazoTesoros add: (Tesoro nuevo: 'Hacha prehistória' tipo: Tesoro UNAMANO bonus: 2 piezasOro: 500).	mazoTesoros add: (Tesoro nuevo: 'Insecticida' tipo: Tesoro UNAMANO bonus: 2 piezasOro: 300).	mazoTesoros add: (Tesoro nuevo: 'La rebeca metálica' tipo: Tesoro ARMADURA bonus: 2 piezasOro: 400).	mazoTesoros add: (Tesoro nuevo: 'Lanzallamas' tipo: Tesoro DOSMANOS bonus: 4 piezasOro: 800).	mazoTesoros add: (Tesoro nuevo: 'Mazo de los antiguos' tipo: Tesoro UNAMANO bonus: 3 piezasOro: 200).	mazoTesoros add: (Tesoro nuevo: 'Necrocomicón' tipo: Tesoro UNAMANO bonus: 1 piezasOro: 100).	mazoTesoros add: (Tesoro nuevo: 'Necrognomicón' tipo: Tesoro UNAMANO bonus: 2 piezasOro: 200).	mazoTesoros add: (Tesoro nuevo: 'Necronomicón' tipo: Tesoro DOSMANOS bonus: 5 piezasOro: 800).	mazoTesoros add: (Tesoro nuevo: 'Necroplayboycón' tipo: Tesoro UNAMANO bonus: 3 piezasOro: 300).	mazoTesoros add: (Tesoro nuevo: 'Poncho a prueba de babas' tipo: Tesoro ARMADURA bonus: 2 piezasOro: 400).	mazoTesoros add: (Tesoro nuevo: 'Shogulador' tipo: Tesoro DOSMANOS bonus: 5 piezasOro: 600).	mazoTesoros add: (Tesoro nuevo: 'Tentáculo de pega' tipo: Tesoro CASCO bonus: 0 piezasOro: 200).	mazoTesoros add: (Tesoro nuevo: 'Zapatos para dejar atrás a los amigos' tipo: Tesoro CALZADO bonus: 0 piezasOro: 500).	mazoMonstruos add: (Monstruo nuevo: 'Ángeles descarnados de la noche ibicenca' nivel: 14 gananciaTesoros: 4 gananciaNiveles: 1 nivelesPerdidos: 0 malRollo: 'Mal Rollo: Te atrapan para llevarte de fiesta y te dejan caer en mitad de vuelo. Después vuelven a hacerlo, porque es muy divertido. Descarta 3 objetos.').	mazoMonstruos add: (Monstruo nuevo: 'Bichoggoth' nivel: 1 gananciaTesoros: 1 gananciaNiveles: 1 nivelesPerdidos: 0 malRollo: 'Mal Rollo: Sientes bichos bajo la ropa. Descarta tu Armadura.').	mazoMonstruos add: (Monstruo nuevo: 'Chibithulhu' nivel: 2 gananciaTesoros: 1 gananciaNiveles: 1 nivelesPerdidos: 0 malRollo: 'Mal Rollo: Embobados con el lindo primigenio y le dan el objeto que le proporciona el Bonus más alto.').	mazoMonstruos add: (Monstruo nuevo: 'El Gorrón en el umbral' nivel: 10 gananciaTesoros: 3 gananciaNiveles: 1 nivelesPerdidos: 0 malRollo: 'Mal Rollo: Pierdes tus tesoros visibles.').	mazoMonstruos add: (Monstruo nuevo: 'El Mal indecible e impronunciable' nivel: 10 gananciaTesoros: 3 gananciaNiveles: 1 nivelesPerdidos: 0 malRollo: 'Mal Rollo: Pierdes una mano.').	mazoMonstruos add: (Monstruo nuevo: 'El Rey de rosa' nivel: 16 gananciaTesoros: 4 gananciaNiveles: 2 nivelesPerdidos: 0 malRollo: 'Mal Rollo: Pierdes un Nivel por cada carta que tengas en la mano.').	mazoMonstruos add: (Monstruo nuevo: 'El sopor de Dunwich' nivel: 1 gananciaTesoros: 1 gananciaNiveles: 1 nivelesPerdidos: 0 malRollo: 'Mal Rollo: ¡El primordial bostezo contagioso!! Te tragas tu objeto menos caro (los objetos sin valor no cuentan). Descártalo.').	mazoMonstruos add: (Monstruo nuevo: 'H.P. Munchcraft' nivel: 6 gananciaTesoros: 2 gananciaNiveles: 1 nivelesPerdidos: 0 malRollo: 'Mal Rollo: Pierdes la armadura.').	mazoMonstruos add: (Monstruo nuevo: 'La que redacta en las Tinieblas' nivel: 2 gananciaTesoros: 1 gananciaNiveles: 1 nivelesPerdidos: 1 malRollo: 'Mal Rollo: Toses los pulmones y pierdes un Nivel.').	mazoMonstruos add: (Monstruo nuevo: 'Lolitaggoth' nivel: 1 gananciaTesoros: 1 gananciaNiveles: 1 nivelesPerdidos: 1 malRollo: 'Mal Rollo: ¡Ja!! ¡Ja!! ¡Pintalabios negros!! Pierdes un Nivel.').	mazoMonstruos add: (Monstruo nuevo: 'Los Hondos' nivel: 8 gananciaTesoros: 2 gananciaNiveles: 1 nivelesPerdidos: 10 malRollo: 'Mal Rollo: A diferencia de sus primos, Los Profundos, que siempren están hablando con gravedad de temas serios, estos monstruos resultan bastante superficiales, y te aburren mortalmente, en el sentido más literal de la palabra. Estás muerto.').	mazoMonstruos add: (Monstruo nuevo: 'Pollipólipo volante' nivel: 2 gananciaTesoros: 1 gananciaNiveles: 1 nivelesPerdidos: 1 malRollo: 'Mal Rollo: Da mucho asquito… Pierdes un Nivel.').	mazoMonstruos add: (Monstruo nuevo: 'Roboggoth' nivel: 8 gananciaTesoros: 2 gananciaNiveles: 1 nivelesPerdidos: 2 malRollo: 'Mal Rollo: La quinta directiva primaria de Roboggoth te obliga a perder 2 Niveles y descartarte de una carta de tu mano.').	mazoMonstruos add: (Monstruo nuevo: 'Semillas Frikonas de Cthulhu' nivel: 4 gananciaTesoros: 2 gananciaNiveles: 1 nivelesPerdidos: 1 malRollo: 'Mal Rollo: Pierdes un Nivel.').	mazoMonstruos add: (Monstruo nuevo: 'Shoggoth' nivel: 16 gananciaTesoros: 4 gananciaNiveles: 2 nivelesPerdidos: 2 malRollo: 'Mal Rollo: Pierdes 2 niveles.').	mazoMonstruos add: (Monstruo nuevo: 'Tres Byakhees vienen de Bonanza' nivel: 8 gananciaTesoros: 2 gananciaNiveles: 1 nivelesPerdidos: 0 malRollo: 'Mal Rollo: Pierdes un tesoro visible y otro oculto.').	mazoMonstruos add: (Monstruo nuevo: 'Yskhthyssg-Goth' nivel: 12 gananciaTesoros: 3 gananciaNiveles: 1 nivelesPerdidos: 10 malRollo: 'Mal Rollo: No le hace gracia que pronuncien mal su nombre. Estás muerto.').		mazoTesoros shuffled.	mazoMonstruos shuffled.! !!Munchkin methodsFor: 'private' stamp: 'GMM 12/6/2011 18:00'!inicializarJugadores: nombres! !!Munchkin methodsFor: 'private' stamp: 'GMM 12/6/2011 18:00'!repartirCartas! !!Munchkin methodsFor: 'public' stamp: 'GMM 12/6/2011 16:00'!comenzarJuego: nombres! !!Munchkin methodsFor: 'public' stamp: 'GMM 12/6/2011 18:01'!desarrollarCombate! !!Munchkin methodsFor: 'public' stamp: 'GMM 12/6/2011 18:02'!descartarTesorosDeJugador: listaTes! !!Munchkin methodsFor: 'public' stamp: 'GMM 12/6/2011 18:01'!determinarJugador! !!Munchkin methodsFor: 'public' stamp: 'GMM 12/6/2011 18:01'!equiparJugador! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Munchkin class	instanceVariableNames: 'instancia te mazoTesoros'!!Munchkin class methodsFor: 'metodos' stamp: 'GMM 12/6/2011 15:50'!"Metodo de clase"getInstance	instancia ifNil:[instancia := super new].	^instancia! !!Munchkin class methodsFor: 'metodos' stamp: 'GMM 12/6/2011 15:50'!new	^ self error: 'Esta clase solo tiene una instancia, usa getInstance para obtenerla'! !Object subclass: #Tesoro	instanceVariableNames: 'nombre tipo bonus piezasOro'	classVariableNames: 'ARMADURA CALZADO CASCO DOSMANOS UNAMANO'	poolDictionaries: ''	category: 'Munchkin_Cthulhu'!!Tesoro methodsFor: 'modificadores' stamp: 'GMM 12/6/2011 16:56'!setBonus: unosBonus	bonus := unosBonus.! !!Tesoro methodsFor: 'modificadores' stamp: 'GMM 12/6/2011 16:56'!setNombre: unNombre	nombre := unNombre.! !!Tesoro methodsFor: 'modificadores' stamp: 'GMM 12/6/2011 16:56'!setPiezasOro: unasPiezas	piezasOro := unasPiezas.! !!Tesoro methodsFor: 'modificadores' stamp: 'GMM 12/6/2011 16:57'!setTipo: unTipo	tipo := unTipo.! !!Tesoro methodsFor: 'consultores' stamp: 'GMM 12/6/2011 16:57'!obtenerBonus	^ bonus.! !!Tesoro methodsFor: 'consultores' stamp: 'GMM 12/6/2011 16:58'!obtenerNombre	^ nombre.! !!Tesoro methodsFor: 'consultores' stamp: 'GMM 12/6/2011 16:57'!obtenerPiezasOro	^ piezasOro.! !!Tesoro methodsFor: 'consultores' stamp: 'GMM 12/6/2011 16:57'!obtenerTipo	^ tipo.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Tesoro class	instanceVariableNames: ''!!Tesoro class methodsFor: 'instance creation' stamp: 'GMM 12/6/2011 17:02'!nuevo: unNombre tipo: unTipo bonus: unosBonus piezasOro: unasPiezasOro	^(self new) setNombre: unNombre;				setTipo: unTipo;				setBonus: unosBonus;				setPiezasOro: unasPiezasOro.! !