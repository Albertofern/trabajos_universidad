Object subclass: #Jugador	instanceVariableNames: 'nombre nivel tesorosOcultos tesorosVisibles'	classVariableNames: ''	poolDictionaries: ''	category: 'Munchkin_Cthulhu'!!Jugador methodsFor: 'consultores_basicos' stamp: 'GMM 1/7/2012 22:26'!obtenerNivel	^ nivel! !!Jugador methodsFor: 'consultores_basicos' stamp: 'GMM 1/7/2012 22:26'!obtenerNombre	^ nombre! !!Jugador methodsFor: 'modificadores_basicos' stamp: 'GMM 1/7/2012 22:32'!setNivel: niv	nivel := niv! !!Jugador methodsFor: 'modificadores_basicos' stamp: 'GMM 1/7/2012 22:32'!setNombre: unNombre	nombre := unNombre! !!Jugador methodsFor: 'modificadores_basicos' stamp: 'GMM 1/7/2012 22:33'!setTesorosOcultos: to	tesorosOcultos := to! !!Jugador methodsFor: 'modificadores_basicos' stamp: 'GMM 1/7/2012 22:33'!setTesorosVisibles: tv	tesorosVisibles := tv! !!Jugador methodsFor: 'otros_metodos' stamp: 'GMM 1/7/2012 22:57'!eliminarTesorosOcultos: tesoro	|operacion eliminado|		operacion := tesorosOcultos remove: tesoro.		(operacion = tesoro)		ifTrue: [eliminado := false]		ifFalse: [eliminado := true].		^ eliminado! !!Jugador methodsFor: 'otros_metodos' stamp: 'GMM 1/7/2012 22:57'!eliminarTesorosVisibles: tesoro	|operacion eliminado|		operacion := tesorosVisibles remove: tesoro.		(operacion = tesoro)		ifTrue: [eliminado := false]		ifFalse: [eliminado := true].		^ eliminado! !!Jugador methodsFor: 'otros_metodos' stamp: 'GMM 1/8/2012 13:42'!equiparse: listaTesoros	|tesoro tesorosNoEquipados|		tesorosNoEquipados := OrderedCollection new.		listaTesoros do: [:indice | tesoro := listaTesoros at: indice.								((self) puedoEquipar: tesoro)									ifFalse: [tesorosNoEquipados add: tesoro].].	^ tesorosNoEquipados! !!Jugador methodsFor: 'otros_metodos' stamp: 'GMM 1/7/2012 22:45'!incluirTesoroVisible: tesoro	tesorosVisibles add: tesoro! !!Jugador methodsFor: 'otros_metodos' stamp: 'GMM 1/7/2012 22:41'!modificarNivel: incDec	nivel := nivel + incDec! !!Jugador methodsFor: 'otros_metodos' stamp: 'GMM 1/7/2012 23:30'!muerte	|tesoro tesorosPerdidos|		tesorosPerdidos := OrderedCollection new.		tesorosOcultos do: [:indice | tesoro := tesorosOcultos at: indice.									tesorosPerdidos add:tesoro].									tesorosVisibles do: [:indice | tesoro = tesorosVisibles at: indice.									tesorosPerdidos add:tesoro].									nivel := 1.	tesorosVisibles clear.	tesorosOcultos clear.		^ tesorosPerdidos		! !!Jugador methodsFor: 'otros_metodos' stamp: 'GMM 1/7/2012 22:43'!nivelDeCombate	|nivelDeCombate elemento|		nivelDeCombate := nivel.		tesorosVisibles do: [:indice| elemento := tesorosVisibles at: indice.								 nivelDeCombate := nivelDeCombate + elemento obtenerBonus].								^ nivelDeCombate.		! !!Jugador methodsFor: 'otros_metodos' stamp: 'GMM 1/8/2012 13:49'!puedoEquipar: tesoro	|puedo unTesoro contManos indice|	puedo := true.	contManos := 0.	indice := 0.		((indice < tesorosVisibles size) & (contManos < 2)) whileTrue: [:i | unTesoro := tesorosVisibles at: i.															 					(unTesoro obtenerTipo = Tesoro UnaMano)																			ifTrue: [contManos := contManos + 1].																																					indice := i.																	].													((indice < tesorosVisibles size) & puedo) whileTrue: [:i | unTesoro := tesorosVisibles at: i.																											(tesoro obtenerTipo = unTesoro obtenerTipo)																	ifTrue: [	(unTesoro obtenerTipo = Tesoro UnaMano)																				ifTrue: [puedo := false]																				ifFalse: [	(tesoro obtenerTipo =  Tesoro UnaMano)																								ifTrue: [	(contManos < 2)																											ifTrue: [^ true]																											ifFalse: [puedo := false].																										].																						].																			].																																		indice := i.															].															^ puedo													! !!Jugador methodsFor: 'otros_metodos' stamp: 'GMM 1/7/2012 22:44'!robarTesoro: tesoro	tesorosOcultos add: tesoro! !!Jugador methodsFor: 'otros_metodos' stamp: 'GMM 1/7/2012 23:34'!terminarTurno	|condicion|	(tesorosOcultos size > 4)		ifTrue: [condicion := true]		ifFalse: [condicion := false].			^ condicion			! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Jugador class	instanceVariableNames: ''!!Jugador class methodsFor: 'instance creation' stamp: 'GMM 1/8/2012 12:41'!nuevo: unNombre	|tv to|		tv := OrderedCollection new.	to := OrderedCollection new.		^(self new) setNombre: unNombre;				setNivel: 1;				setTesorosVisibles: tv;				setTesorosOcultos: to! !Object subclass: #Monstruo	instanceVariableNames: 'nombre nivel gananciaTesoros gananciaNiveles nivelesPerdidos malRollo'	classVariableNames: ''	poolDictionaries: ''	category: 'Munchkin_Cthulhu'!!Monstruo methodsFor: 'consultores_basicos' stamp: 'GMM 1/7/2012 22:09'!obtenerGananciaNiveles	^ gananciaNiveles! !!Monstruo methodsFor: 'consultores_basicos' stamp: 'GMM 1/8/2012 13:16'!obtenerGananciaTesoros	^ gananciaTesoros! !!Monstruo methodsFor: 'consultores_basicos' stamp: 'x 11/30/2011 12:42'!obtenerMalRoyo	^ malRollo! !!Monstruo methodsFor: 'consultores_basicos' stamp: 'GMM 1/7/2012 22:10'!obtenerNivel	^ nivel! !!Monstruo methodsFor: 'consultores_basicos' stamp: 'GMM 1/7/2012 22:10'!obtenerNivelesPerdidos	^ nivelesPerdidos! !!Monstruo methodsFor: 'consultores_basicos' stamp: 'GMM 1/7/2012 22:10'!obtenerNombre	^ nombre! !!Monstruo methodsFor: 'modificadores_basicos' stamp: 'GMM 1/7/2012 22:10'!setGananciaNiveles: ng	gananciaNiveles := ng! !!Monstruo methodsFor: 'modificadores_basicos' stamp: 'GMM 1/7/2012 22:11'!setGananciaTesoros: tg	gananciaTesoros := tg! !!Monstruo methodsFor: 'modificadores_basicos' stamp: 'GMM 1/7/2012 22:11'!setMalRollo: mr	malRollo := mr! !!Monstruo methodsFor: 'modificadores_basicos' stamp: 'GMM 1/7/2012 22:11'!setNivel: niv	nivel := niv! !!Monstruo methodsFor: 'modificadores_basicos' stamp: 'GMM 1/7/2012 22:11'!setNivelesPerdidos: np	nivelesPerdidos := np! !!Monstruo methodsFor: 'modificadores_basicos' stamp: 'GMM 1/7/2012 22:11'!setNombre: nom	nombre := nom! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Monstruo class	instanceVariableNames: ''!!Monstruo class methodsFor: 'instance creation' stamp: 'GMM 1/7/2012 22:18'!copiaMonstruo: unMonstruo		^(self new) setNombre: unMonstruo obtenerNombre;					setNivel: unMonstruo obtenerNivel;					setGananciaTesoros: unMonstruo obtenerGananciaTesosoros;					setGananciaNiveles: unMonstruo obtenerGananciaNiveles;					setNivelesPerdidos: unMonstruo obtenerNivelesPerdidos;					setMalRollo: unMonstruo obtenerMalRoyo		! !!Monstruo class methodsFor: 'instance creation' stamp: 'GMM 1/8/2012 00:25'!nuevo: nom nivel: niv gananciaTesoros: tg gananciaNiveles: ng nivelesPerdidos: np malRollo: mr		^(self new) setNombre: nom;					setNivel: niv;					setGananciaTesoros: tg;					setNivelesPerdidos:np;					setMalRollo: mr			! !Object subclass: #Munchkin	instanceVariableNames: 'mazoTesoros mazoMonstruos descarteMonstruos descarteTesoros monstruoEnJuego jugadores jugadorActivo indexJugador'	classVariableNames: ''	poolDictionaries: ''	category: 'Munchkin_Cthulhu'!!Munchkin methodsFor: 'metodos' stamp: 'GMM 1/8/2012 13:40'!comenzarJuego: nombres		(self) should: [(nombres size <= 1) | (nombres size > 3)] raise: 'Numero de jugadores no permitido'.			 	(self) iniciarJuego.		(self) inicializarJugadores:nombres.		(self) repartirCartas.! !!Munchkin methodsFor: 'metodos' stamp: 'GMM 1/8/2012 13:40'!comprarNivelesJugador: listaTesoros	| tesoro contNiveles contOro |		contNiveles := 0.	contOro := 0.		listaTesoros do: [:indice | tesoro := listaTesoros at: indice.									contOro := contOro + tesoro obtenerPiezasOro.																(contOro >= 1000)									ifTrue: [ contOro := contOro - 1000.											contNiveles := contNiveles + 1										    	]					].					jugadorActivo modificarNivel: contNiveles.		(self) descartarTesorosOcultos: listaTesoros.	(self) descartarTesorosVisibles: listaTesoros.! !!Munchkin methodsFor: 'metodos' stamp: 'GMM 1/8/2012 13:26'!desarrollarCombate	|tesorosGanados resultado generador dado|		(monstruoEnJuego obtenerNivel < jugadorActivo nivelDeCombate)		ifTrue: [tesorosGanados := monstruoEnJuego obtenerGananciaTesosoros.							1 to: tesorosGanados do: [:indice | jugadorActivo robarTesoro: (self) primerTesoro].								jugadorActivo modificarNivel: monstruoEnJuego obtenerGananciaNiveles.								(jugadorActivo obtenerNivel = 10)					ifTrue: [resultado := 10]					ifFalse: [resultado := 1].				]		ifFalse: [(monstruoEnJuego obtenerNivel >= jugadorActivo nivelDeCombate)					ifTrue: [	generador := Random new.							dado := generador nextInt: 7.														(dado < 5)								ifTrue: [jugadorActivo modificarNivel: monstruoEnJuego obtenerNivelesPerdidos.										resultado := -1]								ifFalse: [resultado := 0].							].				].				^ resultado		! !!Munchkin methodsFor: 'metodos' stamp: 'GMM 1/8/2012 13:09'!descartarTesorosOcultos: listaTesoros	| tesoro |		listaTesoros do: [:indice | tesoro := listaTesoros at: indice.														(jugadorActivo eliminarTesorosOcultos: tesoro)									ifTrue: [descarteTesoros add: tesoro].					  ].! !!Munchkin methodsFor: 'metodos' stamp: 'GMM 1/8/2012 13:10'!descartarTesorosVisibles: listaTesoros	| tesoro |		listaTesoros do: [:indice | tesoro := listaTesoros at: indice.														(jugadorActivo eliminarTesorosVisibles: tesoro)									ifTrue: [descarteTesoros add: tesoro].					  ].! !!Munchkin methodsFor: 'metodos' stamp: 'GMM 1/8/2012 13:05'!equiparseJugador: listaTesoros	|tesoro tesorosNoEquipados |	tesorosNoEquipados := OrderedCollection new.		listaTesoros do: [:indice | tesoro := listaTesoros at: indice.																(jugadorActivo puedoEquipar: tesoro)									ifTrue: [jugadorActivo eliminarTesorosOcultos: tesoro.											jugadorActivo incluirTesoroVisible: tesoro]									ifFalse: [tesorosNoEquipados add: tesoro].					  ].					(tesorosNoEquipados isEmpty)		ifTrue: [^ nil]		ifFalse: [^ tesorosNoEquipados]! !!Munchkin methodsFor: 'metodos' stamp: 'GMM 1/8/2012 12:36'!inicializarJuego		mazoTesoros := LinkedList new.	descarteTesoros := LinkedList new.	mazoMonstruos := LinkedList new.	descarteMonstruos := LinkedList new.		mazoTesoros add: (Tesoro nuevo: '¡Sí, Aaaaamo!!!!' tipo: Tesoro Casco bonus: 4 piezasOro: 0).	mazoTesoros add: (Tesoro nuevo: 'Ametralladora Thompson' tipo: Tesoro DosManos bonus: 4 piezasOro: 600).	mazoTesoros add: (Tesoro nuevo: 'Botas de lluvia ácida' tipo: Tesoro Calzado bonus: 1 piezasOro: 300).	mazoTesoros add: (Tesoro nuevo: 'Botas de sutil investigación' tipo: Tesoro Calzado bonus: 3 piezasOro: 600).	mazoTesoros add: (Tesoro nuevo: 'Camiseta de la Universidad de Miskatonic' tipo: Tesoro Armadura bonus: 1 piezasOro: 100).	mazoTesoros add: (Tesoro nuevo: 'Capucha de Cthulhu' tipo: Tesoro Casco bonus: 3 piezasOro: 500).	mazoTesoros add: (Tesoro nuevo: 'Casco minero' tipo: Tesoro Casco bonus: 2 piezasOro: 400).	mazoTesoros add: (Tesoro nuevo: 'Clavo de rail ferro viario' tipo: Tesoro UnaMano bonus: 3 piezasOro: 400).	mazoTesoros add: (Tesoro nuevo: 'El aparato de protección eléctrica del Profesor Tesla' tipo: Tesoro Armadura bonus: 4 piezasOro: 900).	mazoTesoros add: (Tesoro nuevo: 'El cuchillo de sushi arcano' tipo: Tesoro UnaMano bonus: 2 piezasOro: 300).	mazoTesoros add: (Tesoro nuevo: 'Fez alópodo' tipo: Tesoro Casco bonus: 3 piezasOro: 700).	mazoTesoros add: (Tesoro nuevo: 'Gaita' tipo: Tesoro DosManos bonus: 4 piezasOro: 500).	mazoTesoros add: (Tesoro nuevo: 'Garabato místico' tipo: Tesoro UnaMano bonus: 2 piezasOro: 300).	mazoTesoros add: (Tesoro nuevo: 'Hacha prehistória' tipo: Tesoro UnaMano bonus: 2 piezasOro: 500).	mazoTesoros add: (Tesoro nuevo: 'Insecticida' tipo: Tesoro UnaMano bonus: 2 piezasOro: 300).	mazoTesoros add: (Tesoro nuevo: 'La rebeca metálica' tipo: Tesoro Armadura bonus: 2 piezasOro: 400).	mazoTesoros add: (Tesoro nuevo: 'Lanzallamas' tipo: Tesoro DosManos bonus: 4 piezasOro: 800).	mazoTesoros add: (Tesoro nuevo: 'Mazo de los antiguos' tipo: Tesoro UnaMano bonus: 3 piezasOro: 200).	mazoTesoros add: (Tesoro nuevo: 'Necrocomicón' tipo: Tesoro UnaMano bonus: 1 piezasOro: 100).	mazoTesoros add: (Tesoro nuevo: 'Necrognomicón' tipo: Tesoro UnaMano bonus: 2 piezasOro: 200).	mazoTesoros add: (Tesoro nuevo: 'Necronomicón' tipo: Tesoro DosManos bonus: 5 piezasOro: 800).	mazoTesoros add: (Tesoro nuevo: 'Necroplayboycón' tipo: Tesoro UnaMano bonus: 3 piezasOro: 300).	mazoTesoros add: (Tesoro nuevo: 'Poncho a prueba de babas' tipo: Tesoro Armadura bonus: 2 piezasOro: 400).	mazoTesoros add: (Tesoro nuevo: 'Shogulador' tipo: Tesoro DosManos bonus: 5 piezasOro: 600).	mazoTesoros add: (Tesoro nuevo: 'Tentáculo de pega' tipo: Tesoro Casco bonus: 0 piezasOro: 200).	mazoTesoros add: (Tesoro nuevo: 'Zapatos para dejar atrás a los amigos' tipo: Tesoro Calzado bonus: 0 piezasOro: 500).	mazoMonstruos add: (Monstruo nuevo: 'Ángeles descarnados de la noche ibicenca' nivel: 14 gananciaTesoros: 4 gananciaNiveles: 1 nivelesPerdidos: 0 malRollo: 'Mal Rollo: Te atrapan para llevarte de fiesta y te dejan caer en mitad de vuelo. Después vuelven a hacerlo, porque es muy divertido. Descarta 3 objetos.').	mazoMonstruos add: (Monstruo nuevo: 'Bichoggoth' nivel: 1 gananciaTesoros: 1 gananciaNiveles: 1 nivelesPerdidos: 0 malRollo: 'Mal Rollo: Sientes bichos bajo la ropa. Descarta tu Armadura.').	mazoMonstruos add: (Monstruo nuevo: 'Chibithulhu' nivel: 2 gananciaTesoros: 1 gananciaNiveles: 1 nivelesPerdidos: 0 malRollo: 'Mal Rollo: Embobados con el lindo primigenio y le dan el objeto que le proporciona el Bonus más alto.').	mazoMonstruos add: (Monstruo nuevo: 'El Gorrón en el umbral' nivel: 10 gananciaTesoros: 3 gananciaNiveles: 1 nivelesPerdidos: 0 malRollo: 'Mal Rollo: Pierdes tus tesoros visibles.').	mazoMonstruos add: (Monstruo nuevo: 'El Mal indecible e impronunciable' nivel: 10 gananciaTesoros: 3 gananciaNiveles: 1 nivelesPerdidos: 0 malRollo: 'Mal Rollo: Pierdes una mano.').	mazoMonstruos add: (Monstruo nuevo: 'El Rey de rosa' nivel: 16 gananciaTesoros: 4 gananciaNiveles: 2 nivelesPerdidos: 0 malRollo: 'Mal Rollo: Pierdes un Nivel por cada carta que tengas en la mano.').	mazoMonstruos add: (Monstruo nuevo: 'El sopor de Dunwich' nivel: 1 gananciaTesoros: 1 gananciaNiveles: 1 nivelesPerdidos: 0 malRollo: 'Mal Rollo: ¡El primordial bostezo contagioso!!!! Te tragas tu objeto menos caro (los objetos sin valor no cuentan). Descártalo.').	mazoMonstruos add: (Monstruo nuevo: 'H.P. Munchcraft' nivel: 6 gananciaTesoros: 2 gananciaNiveles: 1 nivelesPerdidos: 0 malRollo: 'Mal Rollo: Pierdes la armadura.').	mazoMonstruos add: (Monstruo nuevo: 'La que redacta en las Tinieblas' nivel: 2 gananciaTesoros: 1 gananciaNiveles: 1 nivelesPerdidos: -1 malRollo: 'Mal Rollo: Toses los pulmones y pierdes un Nivel.').	mazoMonstruos add: (Monstruo nuevo: 'Lolitaggoth' nivel: 1 gananciaTesoros: 1 gananciaNiveles: 1 nivelesPerdidos: -1 malRollo: 'Mal Rollo: ¡Ja!!!! ¡Ja!!!! ¡Pintalabios negros!!!! Pierdes un Nivel.').	mazoMonstruos add: (Monstruo nuevo: 'Los Hondos' nivel: 8 gananciaTesoros: 2 gananciaNiveles: 1 nivelesPerdidos: -10 malRollo: 'Mal Rollo: A diferencia de sus primos, Los Profundos, que siempren están hablando con gravedad de temas serios, estos monstruos resultan bastante superficiales, y te aburren mortalmente, en el sentido más literal de la palabra. Estás muerto.').	mazoMonstruos add: (Monstruo nuevo: 'Pollipólipo volante' nivel: 2 gananciaTesoros: 1 gananciaNiveles: 1 nivelesPerdidos: -1 malRollo: 'Mal Rollo: Da mucho asquito… Pierdes un Nivel.').	mazoMonstruos add: (Monstruo nuevo: 'Roboggoth' nivel: 8 gananciaTesoros: 2 gananciaNiveles: 1 nivelesPerdidos: -2 malRollo: 'Mal Rollo: La quinta directiva primaria de Roboggoth te obliga a perder 2 Niveles y descartarte de una carta de tu mano.').	mazoMonstruos add: (Monstruo nuevo: 'Semillas Frikonas de Cthulhu' nivel: 4 gananciaTesoros: 2 gananciaNiveles: 1 nivelesPerdidos: -1 malRollo: 'Mal Rollo: Pierdes un Nivel.').	mazoMonstruos add: (Monstruo nuevo: 'Shoggoth' nivel: 16 gananciaTesoros: 4 gananciaNiveles: 2 nivelesPerdidos: -2 malRollo: 'Mal Rollo: Pierdes 2 niveles.').	mazoMonstruos add: (Monstruo nuevo: 'Tres Byakhees vienen de Bonanza' nivel: 8 gananciaTesoros: 2 gananciaNiveles: 1 nivelesPerdidos: 0 malRollo: 'Mal Rollo: Pierdes un tesoro visible y otro oculto.').	mazoMonstruos add: (Monstruo nuevo: 'Yskhthyssg-Goth' nivel: 12 gananciaTesoros: 3 gananciaNiveles: 1 nivelesPerdidos: -10 malRollo: 'Mal Rollo: No le hace gracia que pronuncien mal su nombre. Estás muerto.').		mazoTesoros shuffled.	mazoMonstruos shuffled.! !!Munchkin methodsFor: 'metodos' stamp: 'GMM 1/8/2012 12:43'!inicializarJugadores: nombres	|nombre jugador|		jugadores := OrderedCollection new.	indexJugador := -1.		0 to: nombres size do: [:indice | nombre := nombres at: indice.									jugador:= Jugador nuevo: nombre.									jugadores add: jugador.]! !!Munchkin methodsFor: 'metodos' stamp: 'GMM 1/8/2012 13:34'!muerteJugador	| nuevoTesoro tesorosPerdidos |		tesorosPerdidos := OrderedCollection new.	tesorosPerdidos := jugadorActivo muerte.		tesorosPerdidos do: [:indice | nuevoTesoro := tesorosPerdidos at: indice.									descarteTesoros add: nuevoTesoro].									0 to: 2 do: [:indice | nuevoTesoro := (self) primerTesoro.						jugadorActivo robarTesoro: nuevoTesoro]! !!Munchkin methodsFor: 'metodos' stamp: 'GMM 1/8/2012 13:41'!primerMonstruo		|monstruo|		(mazoMonstruos isEmpty)			ifTrue: [descarteMonstruos do: [:indice | monstruo := descarteMonstruos at: indice.												mazoMonstruos add: monstruo].								mazoMonstruos shuffled.					descarteMonstruos removeAll.		].				monstruo := mazoTesoros first.		mazoMonstruos removeFirst.				^ monstruo! !!Munchkin methodsFor: 'metodos' stamp: 'GMM 1/8/2012 13:41'!primerTesoro		|tesoro|		(mazoTesoros isEmpty)			ifTrue:[ descarteTesoros do:[:indice | tesoro := descarteTesoros at: indice.												mazoTesoros add: tesoro].								mazoTesoros shuffled.					descarteTesoros removeAll.		].				tesoro := mazoTesoros first.		mazoTesoros removeFirst.				^ tesoro! !!Munchkin methodsFor: 'metodos' stamp: 'GMM 1/8/2012 13:11'!primero	|generador numero|		generador := Random new.	numero := generador nextInt: jugadores size.		^ numero.! !!Munchkin methodsFor: 'metodos' stamp: 'GMM 1/8/2012 12:47'!repartirCartas	|jugador tesoro|		jugadores do: [:indice | jugador := jugadores.							0 to: 2 do: [:j | tesoro := (self) primerTesoro.											jugador robarTesoro: tesoro]. ]! !!Munchkin methodsFor: 'metodos' stamp: 'GMM 1/8/2012 00:09'!siguiente	indexJugador := (indexJugador + 1) % (jugadores size)! !!Munchkin methodsFor: 'metodos' stamp: 'GMM 1/8/2012 13:42'!siguienteTurno		| fin |		fin := false.		(jugadorActivo ~= nil)		ifTrue: [fin := jugadorActivo terminarTurno].	self should: [(jugadorActivo ~= nil) & (fin = false)] raise: 'El jugador tiene más de 4 tesoros ocultos, no se puede pasar al siguiente turno.'.	(jugadorActivo = nil)		ifTrue: [(self) primero]		ifFalse: [(self) siguiente].		jugadorActivo := jugadores at: indexJugador.	monstruoEnJuego := (self) primerMonstruo! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Munchkin class	instanceVariableNames: 'instancia'!!Munchkin class methodsFor: 'instanciador' stamp: 'GMM 1/8/2012 00:00'!getInstance	instancia ifNil: [instancia:= super new].	^ instancia! !!Munchkin class methodsFor: 'instance creation' stamp: 'GMM 1/7/2012 23:47'!new	^ self error: 'Esta clase solo tiene una instancia, usa getInstance para obtenerla'! !Object subclass: #Tesoro	instanceVariableNames: 'nombre piezasOro bonus tipo'	classVariableNames: ''	poolDictionaries: ''	category: 'Munchkin_Cthulhu'!!Tesoro methodsFor: 'modificadores_basicos' stamp: 'GMM 1/7/2012 22:07'!setBonus: unosBonus	bonus := unosBonus! !!Tesoro methodsFor: 'modificadores_basicos' stamp: 'GMM 1/7/2012 22:07'!setNombre: unNombre	nombre := unNombre! !!Tesoro methodsFor: 'modificadores_basicos' stamp: 'GMM 1/7/2012 22:08'!setPiezasOro: unasPiezas	piezasOro := unasPiezas! !!Tesoro methodsFor: 'modificadores_basicos' stamp: 'GMM 1/7/2012 22:08'!setTipo: unTipo	tipo := unTipo! !!Tesoro methodsFor: 'consultores_basicos' stamp: 'GMM 1/7/2012 22:05'!obtenerBonus	^ bonus! !!Tesoro methodsFor: 'consultores_basicos' stamp: 'GMM 1/7/2012 22:05'!obtenerNombre	^ nombre! !!Tesoro methodsFor: 'consultores_basicos' stamp: 'GMM 1/7/2012 22:05'!obtenerPiezasOro	^ piezasOro! !!Tesoro methodsFor: 'consultores_basicos' stamp: 'GMM 1/7/2012 22:05'!obtenerTipo	^ tipo! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Tesoro class	instanceVariableNames: 'armadura calzado casco dosManos unaMano'!!Tesoro class methodsFor: 'class variables' stamp: 'GMM 1/7/2012 23:58'!Armadura	armadura isNil ifTrue: [armadura := 1].	^ armadura! !!Tesoro class methodsFor: 'class variables' stamp: 'GMM 1/7/2012 23:59'!Calzado	calzado isNil ifTrue: [calzado := 2].	^ calzado! !!Tesoro class methodsFor: 'class variables' stamp: 'GMM 1/7/2012 23:59'!Casco	casco isNil ifTrue: [casco := 0].	^ casco! !!Tesoro class methodsFor: 'class variables' stamp: 'GMM 1/7/2012 23:59'!DosManos	dosManos isNil ifTrue: [dosManos := 4].	^ dosManos! !!Tesoro class methodsFor: 'class variables' stamp: 'GMM 1/7/2012 23:59'!UnaMano	unaMano isNil ifTrue: [unaMano := 3].	^ unaMano! !!Tesoro class methodsFor: 'instance creation' stamp: 'GMM 1/7/2012 22:20'!copiaTesoro: unTesoro	^(self new) setNombre: unTesoro obtenerNombre;				setTipo: unTesoro obtenerTipo;				setBonus: unTesoro obtenerBonus;				setPiezasOro: unTesoro obtenerPiezasOro! !!Tesoro class methodsFor: 'instance creation' stamp: 'GMM 1/8/2012 00:24'!nuevo: unNombre  tipo: unTipo bonus: unosBonus piezasOro: unasPiezas	^(self new) setNombre: unNombre;				setTipo: unTipo;				setBonus: unosBonus;				setPiezasOro: unasPiezas! !